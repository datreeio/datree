definitions:
  specContainers:
    if:
      properties:
        kind:
          enum:
            - Deployment
            - Pod
            - DaemonSet
            - StatefulSet
            - ReplicaSet
            - CronJob
            - Job
    then:
      properties:
        spec:
          properties:
            containers:
              items:
                required:
                  - readinessProbe
                  - livenessProbe

allOf:
  - $ref: "#/definitions/specContainers"
additionalProperties:
  $ref: "#"
items:
    $ref: "#"
#---
#properties:
#  spec:
#    properties:
#      containers:
#        items:
#          properties:
#            resources:
#              properties:
#                limits:
#                  properties:
#                    cpu:
#                      resourceMinimum: 301Mi
#                      resourceMaximum: 500m
#---
#if:
#  properties:
#    kind:
#      enum:
#        - Deployment
#        - ReplicaSet
#        - DaemonSet
#        - ReplicationController
#then:
#  properties:
#    spec:
#      properties:
#        template:
#          properties:
#            spec:
#              properties:
#                restartPolicy:
#                  enum:
#                    - 'Always'